{% extends "base.html" %}

{% block content %}

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const attr = '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors';
        const tileUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'

        const tartu = [58.378025, 26.728493];
        const lmap = L.map('map');
        const tiles = L.tileLayer(tileUrl);
        const marker = L.marker(tartu);

        tiles.addTo(lmap);
        lmap.attributionControl.addAttribution(attr);
        lmap.setView(tartu, 13);
    });
</script>

<div class="container">
    <div class="page-info">
        <h2>{{ 'Kaart' }}</h2>
        <br>
        <div id="map" style="width: 100%; height: 500px;"></div>
        <br>
        <div>
            {% for item in entries %}
            <p>{{ item.name }} - {{ item.lat }} {{ item.lon }}</p>
            {% endfor %}
        </div>
    </div>
</div>

{% endblock %}